# TweetNLP
Some functions to clean tweets and generate basic features

## Clean and lemmatize text
Input = string, output = string

    def clean_and_lemmatize(input_text, remove_stopwords = True, remove_mentions_hashtags = True, remove_punctuation = True):
    """
    Removes punctuation, stopwords, hashtags and handles. Then lemmatizes with spacy("en").
    """
    clean_text = remove_mentions_hashtags(input_text) if remove_mentions_hashtags else input_text
    clean_text = remove_punctuation(clean_text) if remove_punctuation else clean_text
    clean_text = lemmatize_text(clean_text, remove_stopwords) #has condition built into function
  
    return clean_text


By default it will remove stopwords, hastags, mentions and punctuation. These can be turned off with function arguments

## Generate features
input = DataFrame , output = (DataFrame, list_of_added_column_names).

    def generate_features(df, text_column_name = 'text'):
    """
    Takes a DataFrame as input, returns the df with added columns and a list with the names of added columns. 
    By default column to be processed is named 'text', change text_column_name parameter. 
    ToDo : All features are generated by default, you can turn off individual ones in parameters.
    """
  
    df['sentence_count'] = (df[text_column_name]).apply(sentence_count)
    df['mention_count'] = (df[text_column_name]).apply(count_mentions)
    df['hashtag_count'] = (df[text_column_name]).apply(count_hashtags)
    df['word_count'] = (df[text_column_name]).apply(remove_mentions_hashtags).apply(word_count)
    df['stopword_ratio'] = (df[text_column_name]).apply(remove_mentions_hashtags).apply(stopword_ratio)
  
    generated_features = ['sentence_count', 'mention_count', 'hashtag_count', 'word_count', 'stopword_ratio']
  
    return df, generated_features
